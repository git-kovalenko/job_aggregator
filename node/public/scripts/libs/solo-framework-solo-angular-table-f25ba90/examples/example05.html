<!DOCTYPE html>
<html>
<head>
	<title>Solo Table: example 05</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<link href="css/bootstrap.min.css" rel="stylesheet">

	<script src="js/angular.js" ></script>
	<script src="js/app.factory.js" ></script>
	<script src="../src/solo.table.js"></script>


	<!-- Эти стили нужны для сортировки -->
	<style type="text/css">
		.solo-table-sort-asc > .solo-column-arrow
		{
			position: relative;
			top: 10px;
			margin-left: 5px;
			border-color: black transparent;
			border-style: solid;
			border-width: 5px 5px 0px 5px;
			height: 0px;
			width: 0px;
		}
		.solo-table-sort-desc > .solo-column-arrow
		{
			position: relative;
			top: -10px;
			margin-left: 5px;
			border-color: black transparent;
			border-style: solid;
			border-width: 0px 5px 5px 5px;
			height: 0px;
			width: 0px;
		}

		.solo-table-column-cursor
		{
			cursor: pointer;
		}
	</style>

</head>
<body>

<div class="container">
	<div class="row-fluid">
		<div class="span12">

			<h2>Example #5</h2>

			<p>
				You can write your own filter. <br/>
				For example, you can select persons older than selected year.

			</p>

			<!-- В этом элементе будет находиться наше AngularJS приложение -->
			<div id="testApp" ng-cloak>

				<!--
					Внутри этой директивы должен быть элемент table
					Здесь директива items-on-page определяет, сколько записей должно быть на странице
					Директива make-sortable указывает, что в таблицу надо добавить возможность сортировки
				-->
				<solo-table items-on-page="10" make-sortable>

					<input placeholder="Type year, for example 1976" type="text" name="id" ng-model="filterModel">

					<!--
						Эта директива выступает провайдером данных
						Здесь данные в формате JSON
					 -->
					<div solo-table-data>
						[{"id":0,"prefix":"Miss","name":"Alvah Gleason","address":"58707 Ophelia Field\nEast Lorena, LA 89754-9301","year":"1981"},{"id":1,"prefix":"Dr.","name":"Sofia Tremblay","address":"497 Reynolds Run\nLake Luther, AK 96515-5737","year":"1939"},{"id":2,"prefix":"Miss","name":"Miss Elvis Franecki","address":"7211 Kenyatta Spurs\nEmeraldfurt, NM 25409","year":"1943"},{"id":3,"prefix":"Mrs.","name":"Miss Abraham West PhD","address":"1858 Kautzer Centers Suite 507\nSchummland, MS 58093-7616","year":"1971"},{"id":4,"prefix":"Mr.","name":"Barrett Dach","address":"75101 Lakin Place Suite 612\nLake Willow, KY 27365-8864","year":"1932"},{"id":5,"prefix":"Ms.","name":"Sally Shanahan","address":"9068 Schuster Fort\nWest Jarvis, MI 31167","year":"1981"},{"id":6,"prefix":"Ms.","name":"Dayana Willms","address":"53672 Helga Wells Apt. 774\nLubowitzport, OR 26144-7677","year":"1981"},{"id":7,"prefix":"Miss","name":"Dr. Alvina White","address":"3902 Carter Oval\nSouth Eldafort, ID 31960","year":"1981"},{"id":8,"prefix":"Miss","name":"Kevin White","address":"5069 Carleton Garden Apt. 580\nEast Tyresechester, TX 29796","year":"1981"},{"id":9,"prefix":"Ms.","name":"Ms. Reyes O'Kon Sr.","address":"083 Tabitha Dale Apt. 494\nWest Ninafort, NV 48888","year":"1981"},{"id":10,"prefix":"Mr.","name":"Raymundo Welch","address":"693 Grant Vista\nBernieburgh, NV 95989","year":"1924"},{"id":11,"prefix":"Mr.","name":"Miss Riley Ondricka PhD","address":"90108 Roxanne Parkways\nPort Lindaberg, MH 37719","year":"1932"},{"id":12,"prefix":"Miss","name":"Ervin Wisoky","address":"68150 Jacobs Ridge\nCarrollmouth, RI 75912","year":"1981"},{"id":13,"prefix":"Mrs.","name":"Ilene Kirlin","address":"1965 Jonathon Crossing\nSwaniawskifurt, OR 16796","year":"1917"},{"id":14,"prefix":"Miss","name":"Emil Koss","address":"217 Kacey Village Suite 928\nPurdyfurt, MN 84149-5493","year":"1973"},{"id":15,"prefix":"Mrs.","name":"Dr. Norwood Schultz III","address":"42111 Mariam Lakes\nSouth Dandreberg, IA 80737-8840","year":"1977"},{"id":16,"prefix":"Mrs.","name":"Ryder Wyman V","address":"37842 Haskell Points\nPort Alainastad, FL 95129","year":"1980"},{"id":17,"prefix":"Miss","name":"Lauryn Bergnaum","address":"274 Schulist Lane\nHaskellbury, ND 09131-3512","year":"1930"},{"id":18,"prefix":"Miss","name":"Cydney Sporer","address":"0890 Gussie Well\nPadbergborough, IA 02576-1462","year":"1981"},{"id":19,"prefix":"Ms.","name":"Verner Kerluke","address":"71487 Pagac Underpass\nNorth Newton, SD 77768-3171","year":"1981"},{"id":20,"prefix":"Mrs.","name":"Miss Rahsaan Langosh","address":"811 Milton Pass Suite 278\nConnellyside, NM 68314-1604","year":"1981"},{"id":21,"prefix":"Dr.","name":"Mr. Edythe Champlin","address":"362 Bobbie Plaza\nKunzeshire, TX 59121","year":"1981"},{"id":22,"prefix":"Miss","name":"Ms. Brenda Kuhlman Jr.","address":"2749 Emmanuelle Forest\nNitzscheview, RI 84112-7358","year":"1936"},{"id":23,"prefix":"Ms.","name":"Elizabeth Berge","address":"2029 Emmitt Parkway Suite 673\nPort Arnulfoside, CT 15461","year":"1917"},{"id":24,"prefix":"Miss","name":"Madaline Friesen","address":"4688 Wolf Causeway\nValentinland, AE 97018","year":"1981"},{"id":25,"prefix":"Mr.","name":"Mr. Delores Jones","address":"19033 Jammie Landing Apt. 873\nEast Saul, PA 82798-2462","year":"1959"},{"id":26,"prefix":"Dr.","name":"Keshawn Lehner","address":"330 Oleta Burg Apt. 015\nLake Ewaldmouth, PW 42591","year":"1915"},{"id":27,"prefix":"Mrs.","name":"Dr. Meda Hauck","address":"0000 Armstrong Camp Apt. 603\nEast Iciestad, AA 35945","year":"1981"},{"id":28,"prefix":"Ms.","name":"Lue Luettgen","address":"89808 Letha Radial\nAstridburgh, NJ 06660","year":"1939"},{"id":29,"prefix":"Ms.","name":"Angel Swaniawski","address":"9644 Kamren Tunnel\nRodrigofort, AE 18731-3572","year":"1928"},{"id":30,"prefix":"Mr.","name":"Marian Schoen","address":"988 Kameron Coves\nNew Josiestad, MI 87829","year":"1981"},{"id":31,"prefix":"Mr.","name":"Serena Johns","address":"558 Jayda Inlet Apt. 074\nShermanmouth, RI 97595","year":"1979"},{"id":32,"prefix":"Ms.","name":"Branson Ebert","address":"9588 Skiles Island\nBriellestad, IN 79112","year":"1973"},{"id":33,"prefix":"Mr.","name":"Marietta Kerluke","address":"73090 Conrad Drives Suite 493\nWest Rowenachester, VT 44577","year":"1961"},{"id":34,"prefix":"Dr.","name":"Austin Satterfield V","address":"42303 Bauch Skyway Suite 768\nWest Nick, UT 88982","year":"1942"},{"id":35,"prefix":"Mrs.","name":"Nick Langworth","address":"6804 Kemmer Via Suite 994\nNew Chadrick, SD 27212","year":"1981"},{"id":36,"prefix":"Miss","name":"Tristian Kerluke","address":"4327 Modesto Meadows Suite 661\nPort Selina, UT 18718","year":"1925"},{"id":37,"prefix":"Ms.","name":"D'angelo Wintheiser V","address":"58446 Hamill Shoals Apt. 955\nLake Madisenberg, LA 51245-9940","year":"1964"},{"id":38,"prefix":"Mr.","name":"Rickie Brakus","address":"50680 Alexanne Trace\nNorth Marilou, AR 80454","year":"1981"},{"id":39,"prefix":"Miss","name":"Abdiel Smith","address":"08928 Ahmed Lights Suite 819\nSpencerhaven, FL 12939-1108","year":"1950"},{"id":40,"prefix":"Miss","name":"Carroll Hilpert Jr.","address":"81632 Marcos Drive\nSteuberfort, NM 94337","year":"1923"},{"id":41,"prefix":"Mr.","name":"Ila Marquardt","address":"468 Klocko Wells Apt. 711\nDelphiachester, MO 76234","year":"1963"},{"id":42,"prefix":"Dr.","name":"Hobart Kozey","address":"16999 Kutch Court\nValentineland, IL 77768-5567","year":"1981"},{"id":43,"prefix":"Mr.","name":"Fae Veum","address":"46114 Kub Corner Suite 556\nNorth Eve, MT 28062-8577","year":"1977"},{"id":44,"prefix":"Dr.","name":"Mrs. Dortha Tillman","address":"70337 Junius Radial\nLake Modestahaven, MI 09783","year":"1981"},{"id":45,"prefix":"Miss","name":"Sheila Mante","address":"717 Myriam Corners Suite 151\nEast Moiseschester, WV 84849","year":"1981"},{"id":46,"prefix":"Dr.","name":"Kole Streich PhD","address":"747 Lila Motorway\nSmithamland, NJ 12537","year":"1970"},{"id":47,"prefix":"Mr.","name":"Mabelle Walker","address":"2318 Florida Canyon Apt. 755\nBrandtstad, PA 29712","year":"1965"},{"id":48,"prefix":"Mrs.","name":"Justina Johns","address":"30274 Ritchie Land Apt. 925\nHilpertport, MI 91996","year":"1962"},{"id":49,"prefix":"Ms.","name":"Javier Nader","address":"1751 Hipolito Unions Apt. 620\nLebsackfurt, NV 67126","year":"1913"},{"id":50,"prefix":"Ms.","name":"Ernie Kreiger","address":"55249 Jordi Burg Suite 736\nWest Isaibury, OK 23882","year":"1981"},{"id":51,"prefix":"Miss","name":"Leif Turner III","address":"367 Eliza Trail\nNew Christa, ID 38910","year":"1979"},{"id":52,"prefix":"Mr.","name":"Emie Wiza","address":"2134 Strosin Spur Suite 194\nImanimouth, TX 82625","year":"1937"},{"id":53,"prefix":"Dr.","name":"Kali Fritsch","address":"5871 Emelia Coves\nAmiramouth, PR 00409","year":"1981"},{"id":54,"prefix":"Mr.","name":"Elda Murphy","address":"55631 Hermiston Port\nMillshaven, IA 37169","year":"1950"},{"id":55,"prefix":"Mr.","name":"Halle Kunde","address":"8907 Streich Way Suite 145\nNaderland, MD 99760-3154","year":"1981"},{"id":56,"prefix":"Mrs.","name":"Kaley Schimmel","address":"173 Orrin Radial Apt. 043\nLilianamouth, OR 79089","year":"1979"},{"id":57,"prefix":"Miss","name":"Quinton Johns MD","address":"566 Wilhelm Junctions\nSouth Ebbaside, IA 74734","year":"1972"},{"id":58,"prefix":"Ms.","name":"Miracle Kreiger","address":"012 Shyann Mountain\nEast Bulahburgh, MA 77285","year":"1981"},{"id":59,"prefix":"Mrs.","name":"Gunner Koepp","address":"0947 Corkery Shore\nSalvatoreshire, PW 76769-4981","year":"1981"},{"id":60,"prefix":"Mr.","name":"Peter Swift IV","address":"16144 Torp Mount Apt. 792\nEast Juliohaven, AZ 37882-7627","year":"1981"},{"id":61,"prefix":"Dr.","name":"Lorenza Langosh","address":"3963 Hilpert Station\nPort Rebecatown, NC 30137","year":"1981"},{"id":62,"prefix":"Dr.","name":"Miss Mohammad Tremblay Sr.","address":"2451 VonRueden Points Apt. 264\nKesslertown, PA 70325","year":"1981"},{"id":63,"prefix":"Ms.","name":"Sedrick Lowe","address":"950 Walter Lock\nMullerburgh, DE 13111","year":"1981"},{"id":64,"prefix":"Dr.","name":"Trisha Crooks","address":"77111 Nickolas Village\nSouth Layla, VT 62001","year":"1954"},{"id":65,"prefix":"Mrs.","name":"Ms. Makayla Mante PhD","address":"4596 Randall Estates Apt. 337\nSouth Babystad, MT 82495-6121","year":"1981"},{"id":66,"prefix":"Miss","name":"Johnny Lehner","address":"94258 Delfina Port Suite 479\nCiaraland, DE 76410","year":"1955"},{"id":67,"prefix":"Miss","name":"Francisco Reichel","address":"277 Hintz Trail Apt. 641\nConnershire, MI 76046","year":"1965"},{"id":68,"prefix":"Ms.","name":"Brenda Smitham","address":"542 Deangelo Square Apt. 414\nWest Marquesbury, PR 06022-4927","year":"1946"},{"id":69,"prefix":"Miss","name":"Malvina Rau","address":"12608 Alyce Island Apt. 757\nLake Vadaville, WV 79467","year":"1919"},{"id":70,"prefix":"Mr.","name":"Eriberto Wyman","address":"2704 Cruickshank Falls Suite 831\nSonnyberg, CT 13628-1873","year":"1969"},{"id":71,"prefix":"Mr.","name":"Miss Raoul Berge","address":"628 Murray Fork\nSouth Morris, HI 80833-8558","year":"1981"},{"id":72,"prefix":"Mr.","name":"Dr. Vladimir Kulas I","address":"1192 Yazmin Drive\nNew Genevieve, ID 25140-7929","year":"1942"},{"id":73,"prefix":"Mr.","name":"Lavada Bode","address":"47920 Jasen Island\nWest Elsa, NM 61530","year":"1940"},{"id":74,"prefix":"Miss","name":"Susie McClure","address":"386 Herman Trail Suite 988\nMcKenzietown, WI 44307","year":"1930"},{"id":75,"prefix":"Mrs.","name":"Wiley Boyle I","address":"077 Anabel Mountains\nNorth Kenya, NY 85456","year":"1938"},{"id":76,"prefix":"Dr.","name":"Miss Delfina Blick","address":"25099 Everett Light\nPort Alexys, IA 97741-7612","year":"1933"},{"id":77,"prefix":"Dr.","name":"Lesley Medhurst","address":"921 Jennyfer Spur Suite 657\nAntoniaville, FM 23023-7828","year":"1914"},{"id":78,"prefix":"Mrs.","name":"Ferne Lesch","address":"4237 O'Kon Flats\nPort Ona, NM 47535-0474","year":"1938"},{"id":79,"prefix":"Dr.","name":"Stan Hagenes","address":"8759 Casper Wall Apt. 976\nTerryland, FL 99257","year":"1943"},{"id":80,"prefix":"Mr.","name":"Kevon Koch","address":"1437 Rutherford Bypass Apt. 088\nKuhlmanbury, WI 55795","year":"1917"},{"id":81,"prefix":"Miss","name":"Johathan Bernhard II","address":"3526 Mohr Junctions\nNorth Haliefort, MP 08423","year":"1968"},{"id":82,"prefix":"Ms.","name":"Candelario Mann PhD","address":"0600 Kautzer Flats Apt. 520\nNew Flavio, LA 08923","year":"1968"},{"id":83,"prefix":"Dr.","name":"Dr. Loma Monahan Jr.","address":"7541 Carlee Square\nAdrianchester, MS 23656","year":"1932"},{"id":84,"prefix":"Miss","name":"Bessie Bernhard","address":"2963 Langworth Cove\nDaneborough, WA 32908","year":"1981"},{"id":85,"prefix":"Mr.","name":"Bette Langosh","address":"83633 Ryan Lodge Suite 746\nWest Christellebury, MS 02722-0522","year":"1920"},{"id":86,"prefix":"Mrs.","name":"Trever Koepp","address":"75811 Doyle Ranch\nRosenbaumland, MP 97000","year":"1922"},{"id":87,"prefix":"Mrs.","name":"Ms. Murl Orn III","address":"395 Kevon Creek\nNew Granville, LA 82249","year":"1981"},{"id":88,"prefix":"Ms.","name":"Maximilian Beahan","address":"31314 Rogahn Shoals\nWest Eleazarhaven, NJ 33442-2713","year":"1915"},{"id":89,"prefix":"Dr.","name":"Carmel Marquardt","address":"8956 Jefferey Mills\nBayleeside, MO 41796-0158","year":"1960"},{"id":90,"prefix":"Mrs.","name":"Clifton Keeling","address":"999 Kennedi Stravenue Apt. 504\nNorth Anya, NE 13874","year":"1919"},{"id":91,"prefix":"Dr.","name":"Jamal Nolan","address":"456 Schultz Common\nSouth Ford, OK 57284","year":"1981"},{"id":92,"prefix":"Mrs.","name":"Tracey Cassin","address":"28929 Koch Shores\nNettietown, NE 41703-4611","year":"1981"},{"id":93,"prefix":"Dr.","name":"Mustafa Pacocha","address":"7344 Jaida Springs\nHermistonshire, FL 55959","year":"1959"},{"id":94,"prefix":"Mr.","name":"Dr. Holden Herzog","address":"42636 Cole Mission Suite 915\nNorth Maddisonburgh, OH 84052","year":"1981"},{"id":95,"prefix":"Mr.","name":"Jacinthe Rempel","address":"215 Jayme Flat\nNorth Torranceborough, HI 14441-7209","year":"1981"},{"id":96,"prefix":"Mr.","name":"Miss Carrie Carroll","address":"807 Marcelino Way\nMarcosberg, DE 90512-0506","year":"1921"},{"id":97,"prefix":"Mr.","name":"Flossie Breitenberg Sr.","address":"4998 Manley Plaza Apt. 883\nNorth Tressie, ME 79826-1137","year":"1981"},{"id":98,"prefix":"Mrs.","name":"Mr. Cordell Lockman","address":"2525 Pacocha Haven Apt. 633\nEast Jacinthe, MH 06836","year":"1950"},{"id":99,"prefix":"Miss","name":"Ross Paucek III","address":"800 Janae Terrace Suite 000\nBeckerville, DC 55439","year":"1981"}]
					</div>

					<!-- Показываем данные пейджинга: сколько всего страниц, на какой находимся, сколько записей во всей таблице -->
					<div>Page <[pager.currentPage]> of <[pager.foundPages]>. Total items:  <[pager.found]></div>

					<!-- Эта таблица обязательно  должна присутствовать в директиве solo-table, что, в общем то, очевидно. -->
					<table class="table table-striped table-bordered" >
						<thead>
						<tr>
							<!-- У каждой колонки, которую мы хотим сортировать,
							нужно указать директиву sort-by='имя_поля_из_solo-table-data' -->
							<th sort-by='id'>Id</th>
							<th sort-by='name'>Name</th>
							<th sort-by='year'>Year</th>
							<th>Address</th>
						</tr>
						</thead>

						<!--

						В атрибуте контроллера "original" содержатся все данные, предоставленные провайдером solo-table-data.
						В атрибуте "filtered" - данные из original, к которым применен фильтр
						-->
						<tr ng-repeat="item in filtered = (original | older:filterModel)" >
							<td><[item.id]></td>
							<td><[item.name]></td>
							<td><[item.year]></td>
							<td><[item.address]></td>
						</tr>

					</table>

					<!-- Здесь реализован переход по страницам -->
					<div>
						<a href="" ng-click="gotoFirstPage()">First page | </a>
						<a href="" ng-click="gotoPrevPage()"> &larr;prev | </a>
						<a href="" ng-click="gotoNextPage()">next &rarr; | </a>
						<a href="" ng-click="gotoLastPage()">Last page </a>
					</div>

				</solo-table>

			</div>

		</div>
	</div>
</div>

<script>

	// Создаем модуль с фильтрами
	angular.module("myFilters", [])

		// Показывать только те записи, которые имеют поле year старше заданного
		.filter("older", function(){
			return function(items, search){

				if (!search)
					return items;

				search = parseInt(search);

				var test = function(el, idx, array){
					return el.year > search;
				};

				return items.filter(test);
			};
	});

	// Здесь приведен код, упрощающий создание нового AngularJS приложения
	// Создаем приложение с именем example, вставляем его в элемент testApp,
	// добавляем в него таблицу и собственные фильтры
	AppFactory("testApp", "example", ["solo.table", "myFilters"]);

</script>

</body>
</html>